<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Quản lý doanh nghiệp/tiểu thương</title>
    <th:block th:replace="base :: bootstrap"></th:block>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div th:replace="base :: header"></div>

    <main class="container">

        <h2>Quản lý doanh nghiệp/tiểu thương </h2>

        <div class="container">
            <form  method="post" th:action="@{/companies/save}" th:object="${company}">

                <div class="mb-3 mt-3">
                    <label for="name" class="form-label">Tên doanh nghiệp/tiểu thương: </label>
                    <input type="text" class="form-control" id="name" placeholder="Tên doanh nghiệp/tiểu thương" th:field="*{name}" />
                </div>

                <div class="mb-3 mt-3">
                    <label for="tax" class="form-label">Mã số thuế: </label>
                    <input type="text" class="form-control" id="tax" placeholder="Mã số thuế" th:field="*{tax}"  />
                </div>      

                <div class="mb-3 mt-3">
                    <label for="type" class="form-label">Loại hình: </label>
                    <select class="form-select" th:field="*{type}" id="type">
                        <option value="TYPE_DN">Doanh nghiệp</option>
                        <option value="TYPE_TT">Tiểu thương</option>
                    </select>
                </div>

                <div class="mb-3 mt-3">
                    <label for="user" class="form-label">Người đại diện:</label>
                    <select class="form-select" id="user" th:field="*{userId}">
                        <option th:each="user : ${users}" 
                                th:value="${user.id}" 
                                th:text="${user.fullName} + ' (' + ${user.username} + ')'">
                        </option>
                    </select>
                </div>

                <div class="mb-3 mt-3">
                    <label for="price" class="form-label">Ảnh đại diện: </label>
                    <input type="file" class="form-control" th:field="*{file}"  />
                    <img th:if="${company.avatar != null}" th:src="${company.avatar}" width="200" />
                </div>


                <div class="mb-3 mt-3">
                    <input type="hidden" class="form-control" th:field="*{id}"  />
                    <input type="hidden" class="form-control" th:field="*{avatar}"  />
                    <button class="btn btn-success mt-1" type="submit">
                        <span th:if="${company.id == null}">Thêm doanh nghiệp/tiểu thương</span>
                        <span th:unless="${company.id == null}">Cập nhật doanh nghiệp/tiểu thương</span>
                    </button>
                </div>
            </form>
        </div>
    </main>

    <div th:replace="base :: footer"></div>

</body>
</html>

